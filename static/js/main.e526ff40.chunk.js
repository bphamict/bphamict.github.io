(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{17:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u}));var a="KhaBanhTV",r="https://khabanh-server.herokuapp.com",l="v1",c="2481327848810588",o="6LdapsUZAAAAAIw3sdx4jY9dyn4yn9mhL9sBCfJX",u="64805800b278edfae0816b1ead9fb638"},28:function(e,t,n){"use strict";var a=n(294),r=n.n(a),l=n(17),c=r.a.create({baseURL:"".concat(l.c,"/").concat(l.a)});t.a=c},303:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(28),r=function(t){return a.a.post("/auth/sign-in",{data:"=="+e.from(JSON.stringify(t)).toString("base64")})}}).call(this,n(6).Buffer)},315:function(e,t,n){e.exports=n(570)},320:function(e,t,n){},337:function(e,t){},339:function(e,t){},347:function(e,t){},349:function(e,t){},359:function(e,t){},361:function(e,t){},369:function(e,t){},371:function(e,t){},376:function(e,t){},379:function(e,t){},380:function(e,t){},382:function(e,t){},384:function(e,t){},386:function(e,t){},402:function(e,t){},404:function(e,t){},409:function(e,t){},414:function(e,t){},416:function(e,t){},422:function(e,t){},424:function(e,t){},425:function(e,t){},426:function(e,t){},430:function(e,t){},432:function(e,t){},437:function(e,t){},441:function(e,t){},442:function(e,t){},446:function(e,t){},449:function(e,t){},456:function(e,t){},458:function(e,t){},468:function(e,t){},470:function(e,t){},482:function(e,t){},484:function(e,t){},498:function(e,t){},500:function(e,t){},510:function(e,t){},512:function(e,t){},519:function(e,t){},570:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(36),c=n.n(l),o=(n(320),n(16)),u=n(24),i=n(295),m=n(104),s=n(37),d=n(41),f=n(120),p=n(102),E=n.n(p),b=n(289),g=n.n(b),h=n(290),v=n.n(h),y=n(39),j=n(121),x=n.n(j),O=n(593),w=n(595),k=n(43),C=n(44);function R(){var e=Object(k.a)(["\n  .player-area {\n    background-color: #000000;\n    height: 463px;\n\n    .plyr {\n      height: 463px;\n    }\n  }\n\n  h2 {\n    margin-bottom: 0;\n  }\n\n  fieldset {\n    display: inline-block;\n  }\n\n  .MuiBox-root-2 {\n    display: inline;\n  }\n\n  .MuiRating-root {\n    font-size: 0.9rem;\n  }\n\n  .progress-video {\n    font-size: 0.8rem;\n    line-height: 0.96rem;\n  }\n\n  .caption-size {\n    flex-basis: 400px;\n\n    span {\n      width: 160px;\n    }\n\n    input {\n      height: 2px;\n    }\n  }\n\n  .fb-like,\n  .fb-like > span,\n  .fb-like > span iframe {\n    max-width: 300px;\n  }\n\n  @media only screen and (max-width: 1200px) {\n    .player-area {\n      height: auto !important;\n\n      .plyr {\n        height: auto !important;\n      }\n    }\n  }\n\n  @media only screen and (max-width: 768px) {\n    .caption-size {\n      margin-top: 10px;\n      flex-basis: 100%;\n    }\n  }\n\n  @media only screen and (max-width: 575px) {\n    .player-area {\n      .container {\n        padding: 0;\n      }\n    }\n  }\n"]);return R=function(){return e},e}var N=C.a.div(R()),z=n(28),I=function(){return z.a.get("/movies")},L=function(e){return z.a.get("/movies/".concat(e))},T=n(17);var S=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)(null),s=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useState)({}),h=Object(d.a)(b,2),j=h[0],k=h[1],C=Object(u.h)().pathname.split("/").pop(),R=new v.a,z=Object(a.useCallback)((function(e){return(e/1048576).toFixed(2)}),[]),I=Object(a.useCallback)((function(e){localStorage.setItem("caption-size",e),e+="px",document.documentElement.style.setProperty("--plyr-font-size-large",e),document.documentElement.style.setProperty("--plyr-font-size-xlarge",e)}),[]);return Object(a.useEffect)((function(){var n=localStorage.getItem("caption-size");return n&&(I(n),e.current.value=n),R.on("torrent",(function(e){new g.a(t.current,{controls:["play-large","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","airplay","fullscreen"],autoplay:!0,clickToPlay:!0,captions:{active:!0,language:"vi",update:!1}}),e.on("download",(function(t){c.current.innerHTML=z(e.downloaded),o.current.innerHTML=z(e.downloadSpeed),s.current.innerHTML=(100*e.progress).toFixed(2),p.current.innerHTML=e.numPeers}))})),function(){R.destroy()}}),[]),Object(a.useEffect)((function(){L(C).then((function(e){k(E.a.omit(e.data,["magnetURI","captions"])),l.current.src="".concat(T.c,"/").concat(C,"/").concat(e.data.captions.en),n.current.src="".concat(T.c,"/").concat(C,"/").concat(e.data.captions.vi),R.add(e.data.magnetURI,(function(e){e.files.find((function(e){return e.name.endsWith(".mp4")})).renderTo(t.current)}))})).catch((function(e){console.log(e.response)}))}),[C]),r.a.createElement(N,null,r.a.createElement(f.a,null,r.a.createElement("title",null,E.a.get(j,"title")?"".concat(j.title," - ").concat(T.b):T.b)),r.a.createElement("div",{className:"player-area"},r.a.createElement(i.a,null,r.a.createElement("video",{ref:t,crossOrigin:"anonymous",playsInline:!0},r.a.createElement("track",{kind:"captions",label:"Vietnamese",srcLang:"vi",ref:n}),r.a.createElement("track",{kind:"captions",label:"English",srcLang:"en",ref:l})))),r.a.createElement(i.a,null,r.a.createElement("div",{className:"d-flex flex-wrap mt-3"},r.a.createElement("div",{className:"progress-video flex-grow-1"},"Total downloaded: ",r.a.createElement("span",{ref:c})," MB",r.a.createElement("br",null),"Download speed: ",r.a.createElement("span",{ref:o})," MB/s",r.a.createElement("br",null),"Progress: ",r.a.createElement("span",{ref:s})," %",r.a.createElement("br",null),"Peer: ",r.a.createElement("span",{ref:p})),r.a.createElement("div",{className:"caption-size d-flex align-items-center"},r.a.createElement("span",{className:"text-secondary"},"C\u1ee1 ch\u1eef ph\u1ee5 \u0111\u1ec1"),r.a.createElement(y.a.Control,{type:"range",step:"1",min:"16",max:"50",defaultValue:"18",ref:e,onChange:function(e){return I(e.target.value)}}))),r.a.createElement("hr",null),r.a.createElement("h2",null,j.title),r.a.createElement("div",{className:"text-secondary"},j.originalTitle),r.a.createElement("div",null,"Rating: ",j.rating,r.a.createElement(O.a,{component:"fieldset",ml:1,borderColor:"transparent"},r.a.createElement(w.a,{name:"read-only",value:+j.rating,max:10}))),r.a.createElement("div",null,"Ng\xe0y ph\xe1t h\xe0nh: ",x()(j.releaseDate).format("D/M/Y")),r.a.createElement("hr",null),r.a.createElement(m.Like,{href:window.location.href,showFaces:!0,share:!0}),r.a.createElement("hr",null),r.a.createElement("p",null,j.description),r.a.createElement("hr",null),r.a.createElement(m.Comments,{width:"100%",href:window.location.href})))},G=n(587),D=n(296),F=n(588);function M(){var e=Object(k.a)(["\n  h2 {\n    font-size: 1.2rem;\n    margin-bottom: 0;\n  }\n\n  .text-secondary {\n    font-size: 0.88rem;\n  }\n\n  a {\n    display: block;\n    color: #212529;\n\n    .img-wrapper {\n      width: inherit\n      height: 100%;\n      overflow: hidden;\n    }\n\n    img {\n      width: 100%;\n      transition: 2s;\n\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n\n    &:hover {\n      text-decoration: none;\n    }\n  }\n"]);return M=function(){return e},e}var q=C.a.div(M());var A=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){I().then((function(e){l(e.data)}))}),[]),r.a.createElement(G.a,{as:q},0!==n.length&&n.map((function(e){return r.a.createElement(D.a,{key:e.slug,className:"mb-4",md:{span:3},sm:{span:4},xs:{span:6}},r.a.createElement(o.b,{to:"/movies/".concat(e.slug)},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement(F.a,{src:"https://image.tmdb.org/t/p/w300".concat(e.poster),alt:e.title,rounded:!0})),r.a.createElement("h2",{className:"mt-2"},e.title),r.a.createElement("div",{className:"text-secondary"},e.originalTitle)))})))},U=n(597),_=n(598),B=n(594),P=n(298),V=n.n(P);function J(){var e=Object(k.a)(["\n  background-color: #242526 !important;\n\n  .navbar-brand {\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n    }\n  }\n\n  .dropdown-menu {\n    left: -100px;\n  }\n\n  .input-group {\n    margin-left: 20px;\n    border-radius: 0.25rem;\n    background-color: rgba(255, 255, 255, 0.1);\n    flex-wrap: nowrap;\n    width: 300px;\n    height: 40px;\n\n    &:focus-within {\n      // border-color: #80bdff;\n      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n    }\n\n    input {\n      background-color: transparent;\n      border-color: transparent;\n      color: rgba(255, 255, 255, 0.5);\n      width: 100%;\n      padding-left: 10px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    button {\n      background: transparent;\n      border: none;\n      padding: 12px;\n\n      &:focus {\n        outline: none;\n      }\n\n      .MuiSvgIcon-root {\n        font-size: 1.5rem !important;\n      }\n    }\n\n    @media only screen and (max-width: 991px) {\n      margin: 0.5rem 0;\n      width: 100%;\n    }\n  }\n"]);return J=function(){return e},e}var H=C.a.nav(J());var Y=function(){var e=Object(a.useRef)(null),t=Object(s.c)((function(e){return e.auth.signedIn})),n=Object(a.useCallback)((function(t){t.preventDefault();var n=e.current.value;console.log(n)}),[]);return r.a.createElement(U.a,{as:H,bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(o.b,{className:"navbar-brand",to:"/"},T.b),r.a.createElement(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(U.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(_.a,{className:"mr-auto"},r.a.createElement("form",{className:"input-group",onSubmit:n},r.a.createElement("input",{type:"text",placeholder:"T\xecm t\xean phim",ref:e}),r.a.createElement("button",{type:"submit",className:"d-flex align-self-center"},r.a.createElement(V.a,null)))),t?r.a.createElement(_.a,null,r.a.createElement(_.a.Link,{as:o.b,role:"button",to:"/db/upload"},"Upload"),r.a.createElement(B.a,{title:"B\u1ea3o"},r.a.createElement(B.a.Item,{as:o.b,to:"/db/casts"},"Cast"),r.a.createElement(B.a.Item,{as:o.b,to:"/db/directors"},"Director"),r.a.createElement(B.a.Item,{as:o.b,to:"/db/genres"},"Genre"),r.a.createElement(B.a.Item,{as:o.b,to:"/db/feedbacks"},"Feedback"),r.a.createElement(B.a.Item,{as:o.b,to:"/db/movies"},"Movie"),r.a.createElement(B.a.Item,{as:o.b,to:"/sign-out"},"Sign out"))):r.a.createElement(_.a,null,r.a.createElement(_.a.Link,{as:o.b,to:"/sign-in"},"Sign in"))))};function W(){var e=Object(k.a)(["\n  background-color: #1a1a1a;\n  color: #a0a3a7;\n  padding: 30px 40px;\n  margin-top: 20px;\n\n  a {\n    font-size: 1.4rem;\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n      text-decoration: none;\n    }\n  }\n"]);return W=function(){return e},e}var K=C.a.footer(W());var X=Object(u.j)((function(e){var t=e.location;return r.a.createElement(r.a.Fragment,null,["/sign-in"].includes(t.pathname)?null:r.a.createElement(K,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},T.b))),r.a.createElement("div",null,"Copyright \xa9 2020 - bphamict")))})),Z=n(46),$=n(170);var Q=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useState)(),o=Object(d.a)(c,2),u=o[0],i=o[1],m=function(a){a.preventDefault(),l.current.execute();var r,c,o=e.current.value,i=t.current.value,m=n.current.value;(r={email:o,type:i,content:m},c=u,z.a.post("/feedbacks",{data:r,headers:{"g-recaptcha-response":c}})).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))};return Object(a.useEffect)((function(){Object($.loadReCaptcha)(T.e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Ph\u1ea3n h\u1ed3i"),r.a.createElement("hr",{className:{marginTop:0}}),r.a.createElement(G.a,null,r.a.createElement(D.a,{md:6},r.a.createElement(y.a,{onSubmit:function(e){return m(e)}},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"\u0110\u1ecba ch\u1ec9 email"),r.a.createElement(y.a.Control,{type:"email",placeholder:"Nh\u1eadp email",ref:e})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Lo\u1ea1i ph\u1ea3n h\u1ed3i"),r.a.createElement(y.a.Control,{as:"select",ref:t},r.a.createElement("option",{value:"bug-report"},"B\xe1o c\xe1o l\u1ed7i"),r.a.createElement("option",{value:"question"},"C\xe2u h\u1ecfi"),r.a.createElement("option",{value:"suggestion"},"G\u1ee3i \xfd t\xednh n\u0103ng"),r.a.createElement("option",{value:"other"},"Kh\xe1c"))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"N\u1ed9i dung"),r.a.createElement(y.a.Control,{as:"textarea",placeholder:"Nh\u1eadp n\u1ed9i dung",ref:n})),r.a.createElement($.ReCaptcha,{ref:l,sitekey:T.e,action:"submit",verifyCallback:function(e){return i(e)}}),r.a.createElement(Z.a,{variant:"primary",type:"submit"},"G\u1eedi ph\u1ea3n h\u1ed3i")))))},ee=n(596);function te(){var e=Object(k.a)(["\n  input[type='file'] {\n    color: transparent;\n  }\n\n  .toast {\n    background-color: #ffffff;\n    position: fixed;\n    top: 10%;\n    z-index: 1;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n  }\n"]);return te=function(){return e},e}var ne=C.a.form(te());var ae=function(e){var t=e.type,n=(e.match,Object(u.i)()),l=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)(null),i=Object(a.useRef)(null),m=Object(a.useRef)(null),s=Object(a.useRef)(null),f=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useRef)(null),g=Object(a.useRef)(null),h=Object(a.useRef)(null),v=Object(a.useRef)(null),j=Object(a.useRef)(null),x=Object(a.useRef)(null),O=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),C=Object(a.useState)(!1),R=Object(d.a)(C,2),N=R[0],I=R[1],S=Object(a.useState)(""),F=Object(d.a)(S,2),M=F[0],q=F[1],A=Object(a.useCallback)((function(){var e,t;(e=s.current.value,t=g.current.value,new Promise((function(n,a){return z.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(T.f,"&language=vi-VN&query=").concat(e,"&page=1&include_adult=false&year=").concat(t)).then((function(e){return z.a.get("https://api.themoviedb.org/3/movie/".concat(e.data.results[0].id,"?api_key=").concat(T.f,"&language=vi-VN")).then((function(e){return n(e)})).catch((function(e){return a(e)}))})).catch((function(e){return a(e)}))}))).then((function(e){i.current.value=e.data.poster_path,m.current.value=e.data.title,s.current.value=e.data.original_title,f.current.value=e.data.overview,b.current.value=e.data.vote_average,g.current.value=e.data.release_date.substring(0,4),h.current.value=e.data.release_date,e.data.genres.forEach((function(e){x.current.value+="".concat(e.name,", ")}))})).catch((function(e){console.log(e.response)}))}),[]),U=Object(a.useCallback)((function(e){e.preventDefault();var n={magnetURI:c.current.value,poster:i.current.value,trailer:o.current.value,title:m.current.value,originalTitle:s.current.value,description:f.current.value,duration:p.current.value,year:g.current.value,releaseDate:h.current.value,rating:b.current.value,captions:{vi:w.current.value,en:k.current.value}},a=x.current.value.split(", ").slice(0,-1);console.log(a),"Upload"===t&&function(e){return z.a.post("/movies",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})}(n).then((function(e){201===e.status&&(I(!0),q("Uploaded!"))})).catch((function(e){I(!0),q(e.response.data.message)})),"Edit"===t&&function(e,t){return z.a.put("/movies/".concat(e),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})}(l.current,n).then((function(e){200===e.status&&(I(!0),q("Edited!"))})).catch((function(e){I(!0),q(e.response.data.message)}))}),[t]);return Object(a.useEffect)((function(){E.a.get(n,"slug")&&L(n.slug).then((function(e){l.current=e.data._id,c.current.value=e.data.magnetURI,i.current.value=e.data.poster,o.current.value=e.data.trailer,m.current.value=e.data.title,s.current.value=e.data.originalTitle,f.current.value=e.data.description,p.current.value=e.data.duration,g.current.value=e.data.year,h.current.value=e.data.releaseDate,b.current.value=e.data.rating,w.current.value=e.data.captions.vi,k.current.value=e.data.captions.en})).catch((function(e){console.log(e.response)}))}),[n]),r.a.createElement(y.a,{onSubmit:U,as:ne},r.a.createElement(ee.a,{show:N,onClose:function(){return I(!1)},autohide:!0,delay:3e3},r.a.createElement(ee.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Result")),r.a.createElement(ee.a.Body,null,M)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("h2",{className:"flex-grow-1"},t," movie"),r.a.createElement("div",null,r.a.createElement(Z.a,{type:"reset",variant:"danger",size:"sm"},"Clear All"),r.a.createElement(Z.a,{variant:"info",size:"sm",className:"ml-2",onClick:function(){return A()}},"Autofill"),r.a.createElement(Z.a,{type:"submit",variant:"primary",size:"sm",className:"ml-2"},"Done"))),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(G.a,null,r.a.createElement(D.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"MagnetURI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:c,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Trailer"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:o,required:!0})),r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Poster"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:i,required:!0}))),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Title"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:m,required:!0})),r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Original title (*)"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:s,required:!0}))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Description"),r.a.createElement(y.a.Control,{size:"sm",as:"textarea",rows:3,ref:f,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Duration"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:p,required:!0})),r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Rating"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:b,required:!0})),r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Year"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:g,required:!0})),r.a.createElement(y.a.Group,{as:D.a},r.a.createElement(y.a.Label,null,"Release date"),r.a.createElement(y.a.Control,{size:"sm",type:"date",ref:h,required:!0})))),r.a.createElement(D.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Director"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:v})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Casts"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:j})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Genres"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:x,disabled:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Tags"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:O})),r.a.createElement(y.a.Label,null,"Captions"),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:D.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"VI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:w,defaultValue:"vi.vtt",required:!0})),r.a.createElement(y.a.Group,{as:D.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"EN"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:k,defaultValue:"en.vtt",required:!0}))))))};var re=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Director"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter director's name"}),r.a.createElement(Z.a,{type:"submit"},"Add")))};var le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Cast"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(Z.a,{type:"submit"},"Add")))};var ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Genre"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter genre's name"}),r.a.createElement(Z.a,{type:"submit"},"Add")))};var oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Tag"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(Z.a,{type:"submit"},"Add")))},ue=n(302);var ie=function(){var e=[{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"},{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Feedback"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(ue.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Content"))),r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.content))})))))},me=n(589),se=n(590),de=n(591);var fe=function(){var e=Object(u.g)(),t=Object(a.useState)({}),n=Object(d.a)(t,2),l=n[0],c=n[1],o=Object(a.useCallback)((function(e){window.open("/#/movies/".concat(e))}),[]),i=Object(a.useCallback)((function(e){(function(e){return z.a.delete("/movies/".concat(e))})(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))}),[]);return Object(a.useEffect)((function(){I().then((function(e){c(e.data)})).catch((function(e){console.log(e.response)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Movie"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(ue.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Original title"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Release date"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,l.length>0&&l.map((function(t,n){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,n+1),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.originalTitle),r.a.createElement("td",null,t.rating),r.a.createElement("td",null,x()(t.releaseDate).format("DD/MM/YY")),r.a.createElement("td",{style:{textAlign:"right",padding:".5rem"}},r.a.createElement(Z.a,{size:"sm",variant:"danger",onClick:function(){return i(t._id)}},r.a.createElement(me.a,null)),r.a.createElement(Z.a,{size:"sm",className:"ml-2",onClick:function(){return e.push("/db/movies/".concat(t.slug))}},r.a.createElement(se.a,null)),r.a.createElement(Z.a,{size:"sm",className:"ml-2",variant:"success",onClick:function(){return o(t.slug)}},r.a.createElement(de.a,null))))})))))},pe=n(94);var Ee=function(e){var t=e.title,n=Object(pe.a)(e,["title"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,t?"".concat(t," - ").concat(T.b):T.b)),r.a.createElement(u.b,n))};var be=function(e){var t=e.component,n=Object(pe.a)(e,["component"]),a=Object(s.c)((function(e){return e.auth.signedIn}));return r.a.createElement(Ee,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var ge=function(e){var t=e.component,n=e.restricted,a=void 0!==n&&n,l=Object(pe.a)(e,["component","restricted"]),c=Object(s.c)((function(e){return e.auth.signedIn}));return r.a.createElement(Ee,Object.assign({},l,{render:function(e){return c&&a?r.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,e)}}))},he=n(303);var ve=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(u.g)(),l=Object(s.b)();return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D.a,{lg:4,md:6},r.a.createElement(y.a,{onSubmit:function(a){a.preventDefault();var r=e.current.value,c=t.current.value;Object(he.a)({identifier:r,password:c}).then((function(e){var t,a;l((t=e.data.accessToken,a=e.data.refreshToken,localStorage.setItem("jwt",t),localStorage.setItem("reJwt",a),{type:"SIGN_IN"})),n.push("/")})).catch((function(e){console.log(e.response)}))}},r.a.createElement("h2",{className:"text-center py-3"},"Administrator"),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Username or email"),r.a.createElement(y.a.Control,{type:"text",ref:e,required:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Password"),r.a.createElement(y.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(Z.a,{variant:"primary",type:"submit",block:!0},"Signin"))))};var ye=function(){var e=Object(u.g)(),t=Object(s.b)();return Object(a.useEffect)((function(){t((localStorage.removeItem("jwt"),localStorage.removeItem("reJwt"),{type:"SIGN_OUT"})),e.push("/")}),[e,t]),r.a.createElement(r.a.Fragment,null)},je=n(59),xe=n(304),Oe=n(107),we={signedIn:!!localStorage.getItem("jwt")},ke=Object(je.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Oe.a)(Object(Oe.a)({},e),{},{signedIn:!0});case"SIGN_OUT":return Object(Oe.a)(Object(Oe.a)({},e),{},{signedIn:!1});default:return e}}}),Ce=Object(je.createStore)(ke,Object(xe.composeWithDevTools)());var Re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{store:Ce},r.a.createElement(m.FacebookProvider,{appId:T.d},r.a.createElement(o.a,null,r.a.createElement(Y,null),r.a.createElement(u.d,null,r.a.createElement(ge,{path:"/movies/:slug",component:function(){return r.a.createElement(S,null)},exact:!0}),r.a.createElement(i.a,{className:"mt-4"},r.a.createElement(ge,{title:"Feedback",path:"/feedback",component:function(){return r.a.createElement(Q,null)},exact:!0}),r.a.createElement(be,{title:"Movies",path:"/db/movies",component:function(){return r.a.createElement(fe,null)},exact:!0}),r.a.createElement(be,{title:"Upload",path:"/db/upload",component:function(){return r.a.createElement(ae,{type:"Upload"})},exact:!0}),r.a.createElement(be,{title:"Edit",path:"/db/movies/:slug",component:function(){return r.a.createElement(ae,{type:"Edit"})},exact:!0}),r.a.createElement(be,{title:"Directors",path:"/db/directors",component:function(){return r.a.createElement(re,null)},exact:!0}),r.a.createElement(be,{title:"Casts",path:"/db/casts",component:function(){return r.a.createElement(le,null)},exact:!0}),r.a.createElement(be,{title:"Genres",path:"/db/genres",component:function(){return r.a.createElement(ce,null)},exact:!0}),r.a.createElement(be,{title:"Tags",path:"/db/tags",component:function(){return r.a.createElement(oe,null)},exact:!0}),r.a.createElement(be,{title:"Feedbacks",path:"/db/feedbacks",component:function(){return r.a.createElement(ie,null)},exact:!0}),r.a.createElement(ge,{title:"Sign in",path:"/sign-in",restricted:!0,component:function(){return r.a.createElement(ve,null)},exact:!0}),r.a.createElement(be,{title:"Sign out",path:"/sign-out",component:function(){return r.a.createElement(ye,null)},exact:!0}),r.a.createElement(ge,{path:"/",exact:!0,component:function(){return r.a.createElement(A,{title:""})}}),r.a.createElement(ge,{component:function(){return r.a.createElement(u.a,{to:"/"})}}))),r.a.createElement(X,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[315,1,2]]]);