(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{22:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u}));var a="KhaBanhTV",r="https://khabanh-server.herokuapp.com",l="v1",c="2481327848810588",o="6LdapsUZAAAAAIw3sdx4jY9dyn4yn9mhL9sBCfJX",u="64805800b278edfae0816b1ead9fb638"},323:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(33),r=function(t){return a.a.post("/auth/sign-in",{data:"=="+e.from(JSON.stringify(t)).toString("base64")})}}).call(this,n(7).Buffer)},33:function(e,t,n){"use strict";var a=n(308),r=n.n(a),l=n(22),c=r.a.create({baseURL:"".concat(l.c,"/").concat(l.a)});t.a=c},333:function(e,t,n){e.exports=n(588)},338:function(e,t,n){},355:function(e,t){},357:function(e,t){},365:function(e,t){},367:function(e,t){},377:function(e,t){},379:function(e,t){},387:function(e,t){},389:function(e,t){},394:function(e,t){},397:function(e,t){},398:function(e,t){},400:function(e,t){},402:function(e,t){},404:function(e,t){},420:function(e,t){},422:function(e,t){},427:function(e,t){},432:function(e,t){},434:function(e,t){},440:function(e,t){},442:function(e,t){},443:function(e,t){},444:function(e,t){},448:function(e,t){},450:function(e,t){},455:function(e,t){},459:function(e,t){},460:function(e,t){},464:function(e,t){},467:function(e,t){},474:function(e,t){},476:function(e,t){},486:function(e,t){},488:function(e,t){},500:function(e,t){},502:function(e,t){},516:function(e,t){},518:function(e,t){},528:function(e,t){},530:function(e,t){},537:function(e,t){},588:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),c=n.n(l),o=(n(338),n(21)),u=n(30),i=n(309),m=n(119),s=n(41),d=n(44),f=n(135),p=n(116),E=n.n(p),b=n(303),g=n.n(b),h=n(304),v=n.n(h),y=n(42),x=n(136),j=n.n(x),O=n(637),w=n(47),k=n(48);function C(){var e=Object(w.a)(["\n  .player-area {\n    background-color: #000000;\n    height: 463px;\n\n    .plyr {\n      height: 463px;\n    }\n  }\n\n  h2 {\n    margin-bottom: 0;\n  }\n\n  .MuiRating-root {\n    font-size: medium;\n    margin-left: 6px;\n  }\n\n  .progress-video {\n    font-size: 0.8rem;\n    line-height: 0.96rem;\n  }\n\n  .caption-size {\n    flex-basis: 400px;\n\n    span {\n      width: 160px;\n    }\n\n    input {\n      height: 2px;\n    }\n  }\n\n  .fb-like,\n  .fb-like > span,\n  .fb-like > span iframe {\n    max-width: 300px;\n  }\n\n  @media only screen and (max-width: 1200px) {\n    .player-area {\n      height: auto !important;\n\n      .plyr {\n        height: auto !important;\n      }\n    }\n  }\n\n  @media only screen and (max-width: 768px) {\n    .caption-size {\n      margin-top: 10px;\n      flex-basis: 100%;\n    }\n  }\n\n  @media only screen and (max-width: 575px) {\n    .player-area {\n      .container {\n        padding: 0;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var R=k.a.div(C()),N=n(33),I=function(){return N.a.get("/movies")},z=function(e){return N.a.get("/movies/".concat(e))},T=n(22);var S=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)(null),s=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useState)({}),h=Object(d.a)(b,2),x=h[0],w=h[1],k=Object(u.h)().pathname.split("/").pop(),C=new v.a,N=Object(a.useCallback)((function(e){return(e/1048576).toFixed(2)}),[]),I=Object(a.useCallback)((function(e){localStorage.setItem("caption-size",e),e+="px",document.documentElement.style.setProperty("--plyr-font-size-large",e),document.documentElement.style.setProperty("--plyr-font-size-xlarge",e)}),[]);return Object(a.useEffect)((function(){var n=localStorage.getItem("caption-size");return n&&(I(n),e.current.value=n),C.on("torrent",(function(e){new g.a(t.current,{controls:["play-large","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","airplay","fullscreen"],autoplay:!0,clickToPlay:!0,captions:{active:!0,language:"vi",update:!1}}),e.on("download",(function(t){c.current.innerHTML=N(e.downloaded),o.current.innerHTML=N(e.downloadSpeed),s.current.innerHTML=(100*e.progress).toFixed(2),p.current.innerHTML=e.numPeers}))})),function(){C.destroy()}}),[]),Object(a.useEffect)((function(){z(k).then((function(e){w(E.a.omit(e.data,["magnetURI","captions"])),l.current.src="".concat(T.c,"/").concat(k,"/").concat(e.data.captions.en),n.current.src="".concat(T.c,"/").concat(k,"/").concat(e.data.captions.vi),C.add(e.data.magnetURI,(function(e){e.files.find((function(e){return e.name.endsWith(".mp4")})).renderTo(t.current)}))})).catch((function(e){console.log(e.response)}))}),[k]),r.a.createElement(R,null,r.a.createElement(f.a,null,r.a.createElement("title",null,E.a.get(x,"title")?"".concat(x.title," - ").concat(T.b):T.b)),r.a.createElement("div",{className:"player-area"},r.a.createElement(i.a,null,r.a.createElement("video",{ref:t,crossOrigin:"anonymous",playsInline:!0},r.a.createElement("track",{kind:"captions",label:"Vietnamese",srcLang:"vi",ref:n}),r.a.createElement("track",{kind:"captions",label:"English",srcLang:"en",ref:l})))),r.a.createElement(i.a,null,r.a.createElement("div",{className:"d-flex flex-wrap mt-3"},r.a.createElement("div",{className:"progress-video flex-grow-1"},"Total downloaded: ",r.a.createElement("span",{ref:c})," MB",r.a.createElement("br",null),"Download speed: ",r.a.createElement("span",{ref:o})," MB/s",r.a.createElement("br",null),"Progress: ",r.a.createElement("span",{ref:s})," %",r.a.createElement("br",null),"Peer: ",r.a.createElement("span",{ref:p})),r.a.createElement("div",{className:"caption-size d-flex align-items-center"},r.a.createElement("span",{className:"text-secondary"},"C\u1ee1 ch\u1eef ph\u1ee5 \u0111\u1ec1"),r.a.createElement(y.a.Control,{type:"range",step:"1",min:"16",max:"50",defaultValue:"18",ref:e,onChange:function(e){return I(e.target.value)}}))),r.a.createElement("hr",null),r.a.createElement("h2",null,x.title),r.a.createElement("div",{className:"text-secondary"},x.originalTitle),r.a.createElement("div",null,"Rating: ",x.rating,r.a.createElement(O.a,{name:"half-rating",value:+(+x.rating/2).toFixed(1),precision:.5})),r.a.createElement("div",null,"Ng\xe0y ph\xe1t h\xe0nh: ",j()(x.releaseDate).format("D/M/Y")),r.a.createElement("hr",null),r.a.createElement(m.Like,{href:window.location.href,showFaces:!0,share:!0}),r.a.createElement("hr",null),r.a.createElement("p",null,x.description),r.a.createElement("hr",null),r.a.createElement(m.Comments,{width:"100%",href:window.location.href})))},L=n(626),G=n(310),D=n(627),F=n(625),M=n(638),A=n(631),q=n(634);function U(){var e=Object(w.a)(["\n  .MuiFormControl-root {\n    min-width: 100px;\n\n    .MuiInput-underline:before {\n      border-bottom: none;\n    }\n\n    .MuiInput-underline:hover:not(.Mui-disabled):before {\n      border-bottom: none;\n    }\n  }\n\n  h2 {\n    font-size: medium;\n    margin-bottom: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .text-secondary {\n    font-size: 0.8rem;\n  }\n\n  a {\n    display: block;\n    color: #212529;\n\n    .img-wrapper {\n      width: inherit;\n      height: 100%;\n      overflow: hidden;\n    }\n\n    img {\n      width: 100%;\n      transition: 2s;\n\n      &:hover {\n        transform: scale(1.05);\n      }\n    }\n\n    &:hover {\n      text-decoration: none;\n    }\n  }\n"]);return U=function(){return e},e}var _=k.a.div(U());var B=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){I().then((function(e){l(e.data)}))}),[]),r.a.createElement(_,null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(F.a,null,r.a.createElement(M.a,{shrink:!0},"Genres"),r.a.createElement(A.a,{value:"all",label:"Genres"},r.a.createElement(q.a,{value:"all"},"All"),r.a.createElement(q.a,{value:10},"Ten"))),r.a.createElement(F.a,{className:"ml-4"},r.a.createElement(M.a,{shrink:!0},"Sort by"),r.a.createElement(A.a,{value:"newest",label:"Sort by"},r.a.createElement(q.a,{value:"newest"},"Newest"),r.a.createElement(q.a,{value:"popularity"},"Popularity"),r.a.createElement(q.a,{value:"rating"},"Rating"),r.a.createElement(q.a,{value:"trending"},"Trending"),r.a.createElement(q.a,{value:"year"},"Year")))),r.a.createElement("hr",{style:{marginTop:".2rem"}}),r.a.createElement(L.a,null,0!==n.length&&n.map((function(e){return r.a.createElement(G.a,{key:e.slug,className:"mb-4",md:{span:2},sm:{span:4},xs:{span:6}},r.a.createElement(o.b,{to:"/movies/".concat(e.slug)},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement(D.a,{src:"https://image.tmdb.org/t/p/w300".concat(e.poster),alt:e.title,rounded:!0})),r.a.createElement("h2",{className:"mt-2"},e.title),r.a.createElement("div",{className:"text-secondary"},e.originalTitle)))}))))},P=n(635),V=n(636),J=n(632),Y=n(318),H=n.n(Y);function W(){var e=Object(w.a)(["\n  background-color: #242526 !important;\n\n  .navbar-brand {\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n    }\n  }\n\n  .dropdown-menu {\n    left: -100px;\n  }\n\n  .input-group {\n    margin-left: 20px;\n    border-radius: 0.25rem;\n    background-color: #3a3b3c;\n    flex-wrap: nowrap;\n    width: 300px;\n    height: 40px;\n\n    &:focus-within {\n      // border-color: #80bdff;\n      // box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n    }\n\n    input {\n      background-color: transparent;\n      border-color: transparent;\n      width: 100%;\n      padding-left: 10px;\n      color: rgba(255, 255, 255, 0.4);\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.4);\n      }\n\n      &:focus {\n        outline: none;\n\n        &::placeholder {\n          color: #606770;\n        }\n      }\n    }\n\n    button {\n      background: transparent;\n      border: none;\n      padding-right: 10px;\n      padding-left: 6px;\n\n      &:focus {\n        outline: none;\n      }\n\n      .MuiSvgIcon-root {\n        font-size: 1.5rem !important;\n        color: rgba(255, 255, 255, 0.4);\n      }\n    }\n\n    @media only screen and (max-width: 991px) {\n      margin: 0.5rem 0;\n      width: 100%;\n    }\n  }\n"]);return W=function(){return e},e}var K=k.a.nav(W());var X=function(){var e=Object(a.useRef)(null),t=Object(s.c)((function(e){return e.auth.signedIn})),n=Object(a.useCallback)((function(t){t.preventDefault();var n=e.current.value;console.log(n)}),[]);return r.a.createElement(P.a,{as:K,bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(o.b,{className:"navbar-brand",to:"/"},T.b),r.a.createElement(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(P.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(V.a,{className:"mr-auto"},r.a.createElement("form",{className:"input-group",onSubmit:n},r.a.createElement("input",{type:"text",placeholder:"T\xecm t\xean phim",ref:e}),r.a.createElement("button",{type:"submit",className:"d-flex align-self-center"},r.a.createElement(H.a,null)))),t?r.a.createElement(V.a,null,r.a.createElement(V.a.Link,{as:o.b,role:"button",to:"/db/upload"},"Upload"),r.a.createElement(J.a,{title:"B\u1ea3o"},r.a.createElement(J.a.Item,{as:o.b,to:"/db/casts"},"Cast"),r.a.createElement(J.a.Item,{as:o.b,to:"/db/directors"},"Director"),r.a.createElement(J.a.Item,{as:o.b,to:"/db/genres"},"Genre"),r.a.createElement(J.a.Item,{as:o.b,to:"/db/feedbacks"},"Feedback"),r.a.createElement(J.a.Item,{as:o.b,to:"/db/movies"},"Movie"),r.a.createElement(J.a.Item,{as:o.b,to:"/sign-out"},"Sign out"))):r.a.createElement(V.a,null,r.a.createElement(V.a.Link,{as:o.b,to:"/sign-in"},"Sign in"))))};function Z(){var e=Object(w.a)(["\n  background-color: #1a1a1a;\n  color: #a0a3a7;\n  padding: 30px 40px;\n  margin-top: 20px;\n\n  a {\n    font-size: 1.4rem;\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n      text-decoration: none;\n    }\n  }\n"]);return Z=function(){return e},e}var $=k.a.footer(Z());var Q=Object(u.j)((function(e){var t=e.location;return r.a.createElement(r.a.Fragment,null,["/sign-in"].includes(t.pathname)?null:r.a.createElement($,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},T.b))),r.a.createElement("div",null,"Copyright \xa9 2020 - bphamict")))})),ee=n(51),te=n(184);var ne=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useState)(),o=Object(d.a)(c,2),u=o[0],i=o[1],m=function(a){a.preventDefault(),l.current.execute();var r,c,o=e.current.value,i=t.current.value,m=n.current.value;(r={email:o,type:i,content:m},c=u,N.a.post("/feedbacks",{data:r,headers:{"g-recaptcha-response":c}})).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))};return Object(a.useEffect)((function(){Object(te.loadReCaptcha)(T.e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Ph\u1ea3n h\u1ed3i"),r.a.createElement("hr",{className:{marginTop:0}}),r.a.createElement(L.a,null,r.a.createElement(G.a,{md:6},r.a.createElement(y.a,{onSubmit:function(e){return m(e)}},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"\u0110\u1ecba ch\u1ec9 email"),r.a.createElement(y.a.Control,{type:"email",placeholder:"Nh\u1eadp email",ref:e})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Lo\u1ea1i ph\u1ea3n h\u1ed3i"),r.a.createElement(y.a.Control,{as:"select",ref:t},r.a.createElement("option",{value:"bug-report"},"B\xe1o c\xe1o l\u1ed7i"),r.a.createElement("option",{value:"question"},"C\xe2u h\u1ecfi"),r.a.createElement("option",{value:"suggestion"},"G\u1ee3i \xfd t\xednh n\u0103ng"),r.a.createElement("option",{value:"other"},"Kh\xe1c"))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"N\u1ed9i dung"),r.a.createElement(y.a.Control,{as:"textarea",placeholder:"Nh\u1eadp n\u1ed9i dung",ref:n})),r.a.createElement(te.ReCaptcha,{ref:l,sitekey:T.e,action:"submit",verifyCallback:function(e){return i(e)}}),r.a.createElement(ee.a,{variant:"primary",type:"submit"},"G\u1eedi ph\u1ea3n h\u1ed3i")))))},ae=n(633);function re(){var e=Object(w.a)(["\n  input[type='file'] {\n    color: transparent;\n  }\n\n  .toast {\n    background-color: #ffffff;\n    position: fixed;\n    top: 10%;\n    z-index: 1;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n  }\n"]);return re=function(){return e},e}var le=k.a.form(re());var ce=function(e){var t=e.type,n=(e.match,Object(u.i)()),l=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)(null),i=Object(a.useRef)(null),m=Object(a.useRef)(null),s=Object(a.useRef)(null),f=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useRef)(null),g=Object(a.useRef)(null),h=Object(a.useRef)(null),v=Object(a.useRef)(null),x=Object(a.useRef)(null),j=Object(a.useRef)(null),O=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),C=Object(a.useState)(!1),R=Object(d.a)(C,2),I=R[0],S=R[1],D=Object(a.useState)(""),F=Object(d.a)(D,2),M=F[0],A=F[1],q=Object(a.useCallback)((function(){var e,t;(e=s.current.value,t=g.current.value,new Promise((function(n,a){return N.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(T.f,"&language=vi-VN&query=").concat(e,"&page=1&include_adult=false&year=").concat(t)).then((function(e){return N.a.get("https://api.themoviedb.org/3/movie/".concat(e.data.results[0].id,"?api_key=").concat(T.f,"&language=vi-VN")).then((function(e){return n(e)})).catch((function(e){return a(e)}))})).catch((function(e){return a(e)}))}))).then((function(e){i.current.value=e.data.poster_path,m.current.value=e.data.title,s.current.value=e.data.original_title,f.current.value=e.data.overview,b.current.value=e.data.vote_average,g.current.value=e.data.release_date.substring(0,4),h.current.value=e.data.release_date,e.data.genres.forEach((function(e){j.current.value+="".concat(e.name,", ")}))})).catch((function(e){console.log(e.response)}))}),[]),U=Object(a.useCallback)((function(e){e.preventDefault();var n={magnetURI:c.current.value,poster:i.current.value,trailer:o.current.value,title:m.current.value,originalTitle:s.current.value,description:f.current.value,duration:p.current.value,year:g.current.value,releaseDate:h.current.value,rating:b.current.value,captions:{vi:w.current.value,en:k.current.value}},a=j.current.value.split(", ").slice(0,-1);console.log(a),"Upload"===t&&function(e){return N.a.post("/movies",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})}(n).then((function(e){201===e.status&&(S(!0),A("Uploaded!"))})).catch((function(e){S(!0),A(e.response.data.message)})),"Edit"===t&&function(e,t){return N.a.put("/movies/".concat(e),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})}(l.current,n).then((function(e){200===e.status&&(S(!0),A("Edited!"))})).catch((function(e){S(!0),A(e.response.data.message)}))}),[t]);return Object(a.useEffect)((function(){E.a.get(n,"slug")&&z(n.slug).then((function(e){l.current=e.data._id,c.current.value=e.data.magnetURI,i.current.value=e.data.poster,o.current.value=e.data.trailer,m.current.value=e.data.title,s.current.value=e.data.originalTitle,f.current.value=e.data.description,p.current.value=e.data.duration,g.current.value=e.data.year,h.current.value=e.data.releaseDate,b.current.value=e.data.rating,w.current.value=e.data.captions.vi,k.current.value=e.data.captions.en})).catch((function(e){console.log(e.response)}))}),[n]),r.a.createElement(y.a,{onSubmit:U,as:le},r.a.createElement(ae.a,{show:I,onClose:function(){return S(!1)},autohide:!0,delay:3e3},r.a.createElement(ae.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Result")),r.a.createElement(ae.a.Body,null,M)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("h2",{className:"flex-grow-1"},t," movie"),r.a.createElement("div",null,r.a.createElement(ee.a,{type:"reset",variant:"danger",size:"sm"},"Clear All"),r.a.createElement(ee.a,{variant:"info",size:"sm",className:"ml-2",onClick:function(){return q()}},"Autofill"),r.a.createElement(ee.a,{type:"submit",variant:"primary",size:"sm",className:"ml-2"},"Done"))),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(L.a,null,r.a.createElement(G.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"MagnetURI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:c,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Trailer"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:o,required:!0})),r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Poster"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:i,required:!0}))),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Title"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:m,required:!0})),r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Original title (*)"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:s,required:!0}))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Description"),r.a.createElement(y.a.Control,{size:"sm",as:"textarea",rows:3,ref:f,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Duration"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:p,required:!0})),r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Rating"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:b,required:!0})),r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Year"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:g,required:!0})),r.a.createElement(y.a.Group,{as:G.a},r.a.createElement(y.a.Label,null,"Release date"),r.a.createElement(y.a.Control,{size:"sm",type:"date",ref:h,required:!0})))),r.a.createElement(G.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Director"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:v})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Casts"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:x})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Genres"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:j,disabled:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Tags"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:O})),r.a.createElement(y.a.Label,null,"Captions"),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:G.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"VI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:w,defaultValue:"vi.vtt",required:!0})),r.a.createElement(y.a.Group,{as:G.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"EN"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:k,defaultValue:"en.vtt",required:!0}))))))};var oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Director"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter director's name"}),r.a.createElement(ee.a,{type:"submit"},"Add")))};var ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Cast"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(ee.a,{type:"submit"},"Add")))};var ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Genre"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter genre's name"}),r.a.createElement(ee.a,{type:"submit"},"Add")))};var me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Tag"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(ee.a,{type:"submit"},"Add")))},se=n(322);var de=function(){var e=[{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"},{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Feedback"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(se.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Content"))),r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.content))})))))},fe=n(628),pe=n(629),Ee=n(630);var be=function(){var e=Object(u.g)(),t=Object(a.useState)({}),n=Object(d.a)(t,2),l=n[0],c=n[1],o=Object(a.useCallback)((function(e){window.open("/#/movies/".concat(e))}),[]),i=Object(a.useCallback)((function(e){(function(e){return N.a.delete("/movies/".concat(e))})(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))}),[]);return Object(a.useEffect)((function(){I().then((function(e){c(e.data)})).catch((function(e){console.log(e.response)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Movie"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(se.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Original title"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Release date"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,l.length>0&&l.map((function(t,n){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,n+1),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.originalTitle),r.a.createElement("td",null,t.rating),r.a.createElement("td",null,j()(t.releaseDate).format("DD/MM/YY")),r.a.createElement("td",{style:{textAlign:"right",padding:".5rem"}},r.a.createElement(ee.a,{size:"sm",variant:"danger",onClick:function(){return i(t._id)}},r.a.createElement(fe.a,null)),r.a.createElement(ee.a,{size:"sm",className:"ml-2",onClick:function(){return e.push("/db/movies/".concat(t.slug))}},r.a.createElement(pe.a,null)),r.a.createElement(ee.a,{size:"sm",className:"ml-2",variant:"success",onClick:function(){return o(t.slug)}},r.a.createElement(Ee.a,null))))})))))},ge=n(104);var he=function(e){var t=e.title,n=Object(ge.a)(e,["title"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,t?"".concat(t," - ").concat(T.b):T.b)),r.a.createElement(u.b,n))};var ve=function(e){var t=e.component,n=Object(ge.a)(e,["component"]),a=Object(s.c)((function(e){return e.auth.signedIn}));return r.a.createElement(he,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var ye=function(e){var t=e.component,n=e.restricted,a=void 0!==n&&n,l=Object(ge.a)(e,["component","restricted"]),c=Object(s.c)((function(e){return e.auth.signedIn}));return r.a.createElement(he,Object.assign({},l,{render:function(e){return c&&a?r.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,e)}}))},xe=n(323);var je=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(u.g)(),l=Object(s.b)();return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(G.a,{lg:4,md:6},r.a.createElement(y.a,{onSubmit:function(a){a.preventDefault();var r=e.current.value,c=t.current.value;Object(xe.a)({identifier:r,password:c}).then((function(e){var t,a;l((t=e.data.accessToken,a=e.data.refreshToken,localStorage.setItem("jwt",t),localStorage.setItem("reJwt",a),{type:"SIGN_IN"})),n.push("/")})).catch((function(e){console.log(e.response)}))}},r.a.createElement("h2",{className:"text-center py-3"},"Administrator"),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Username or email"),r.a.createElement(y.a.Control,{type:"text",ref:e,required:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Password"),r.a.createElement(y.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(ee.a,{variant:"primary",type:"submit",block:!0},"Signin"))))};var Oe=function(){var e=Object(u.g)(),t=Object(s.b)();return Object(a.useEffect)((function(){t((localStorage.removeItem("jwt"),localStorage.removeItem("reJwt"),{type:"SIGN_OUT"})),e.push("/")}),[e,t]),r.a.createElement(r.a.Fragment,null)},we=n(68),ke=n(324),Ce=n(122),Re={signedIn:!!localStorage.getItem("jwt")},Ne=Object(we.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Ce.a)(Object(Ce.a)({},e),{},{signedIn:!0});case"SIGN_OUT":return Object(Ce.a)(Object(Ce.a)({},e),{},{signedIn:!1});default:return e}}}),Ie=Object(we.createStore)(Ne,Object(ke.composeWithDevTools)());var ze=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{store:Ie},r.a.createElement(m.FacebookProvider,{appId:T.d},r.a.createElement(o.a,null,r.a.createElement(X,null),r.a.createElement(u.d,null,r.a.createElement(ye,{path:"/movies/:slug",component:function(){return r.a.createElement(S,null)},exact:!0}),r.a.createElement(i.a,{className:"mt-4"},r.a.createElement(ye,{title:"Feedback",path:"/feedback",component:function(){return r.a.createElement(ne,null)},exact:!0}),r.a.createElement(ve,{title:"Movies",path:"/db/movies",component:function(){return r.a.createElement(be,null)},exact:!0}),r.a.createElement(ve,{title:"Upload",path:"/db/upload",component:function(){return r.a.createElement(ce,{type:"Upload"})},exact:!0}),r.a.createElement(ve,{title:"Edit",path:"/db/movies/:slug",component:function(){return r.a.createElement(ce,{type:"Edit"})},exact:!0}),r.a.createElement(ve,{title:"Directors",path:"/db/directors",component:function(){return r.a.createElement(oe,null)},exact:!0}),r.a.createElement(ve,{title:"Casts",path:"/db/casts",component:function(){return r.a.createElement(ue,null)},exact:!0}),r.a.createElement(ve,{title:"Genres",path:"/db/genres",component:function(){return r.a.createElement(ie,null)},exact:!0}),r.a.createElement(ve,{title:"Tags",path:"/db/tags",component:function(){return r.a.createElement(me,null)},exact:!0}),r.a.createElement(ve,{title:"Feedbacks",path:"/db/feedbacks",component:function(){return r.a.createElement(de,null)},exact:!0}),r.a.createElement(ye,{title:"Sign in",path:"/sign-in",restricted:!0,component:function(){return r.a.createElement(je,null)},exact:!0}),r.a.createElement(ve,{title:"Sign out",path:"/sign-out",component:function(){return r.a.createElement(Oe,null)},exact:!0}),r.a.createElement(ye,{path:"/",exact:!0,component:function(){return r.a.createElement(B,{title:""})}}),r.a.createElement(ye,{component:function(){return r.a.createElement(u.a,{to:"/"})}}))),r.a.createElement(Q,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[333,1,2]]]);