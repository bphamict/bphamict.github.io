(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{22:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return u}));var a="KhaBanhTV",r="https://khabanh-server.herokuapp.com",l="v1",c="2481327848810588",o="6LdapsUZAAAAAIw3sdx4jY9dyn4yn9mhL9sBCfJX",u="64805800b278edfae0816b1ead9fb638"},23:function(e,t,n){"use strict";var a=n(313),r=n.n(a),l=n(22),c=r.a.create({baseURL:"".concat(l.c,"/").concat(l.a)});t.a=c},328:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(23),r=function(t){return a.a.post("/auth/sign-in",{data:"=="+e.from(JSON.stringify(t)).toString("base64")})}}).call(this,n(7).Buffer)},341:function(e,t,n){e.exports=n(597)},350:function(e,t,n){},363:function(e,t){},365:function(e,t){},373:function(e,t){},375:function(e,t){},385:function(e,t){},387:function(e,t){},395:function(e,t){},397:function(e,t){},402:function(e,t){},405:function(e,t){},406:function(e,t){},408:function(e,t){},410:function(e,t){},412:function(e,t){},428:function(e,t){},430:function(e,t){},435:function(e,t){},440:function(e,t){},442:function(e,t){},448:function(e,t){},450:function(e,t){},451:function(e,t){},452:function(e,t){},456:function(e,t){},458:function(e,t){},463:function(e,t){},467:function(e,t){},468:function(e,t){},472:function(e,t){},475:function(e,t){},481:function(e,t){},483:function(e,t){},493:function(e,t){},495:function(e,t){},506:function(e,t){},508:function(e,t){},522:function(e,t){},524:function(e,t){},534:function(e,t){},536:function(e,t){},543:function(e,t){},597:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),c=n.n(l),o=n(33),u=n(123),i=(n(350),n(20)),s=n(31),m=n(314),d=n(44),f=n(141),p=n(120),E=n.n(p),b=n(308),g=n.n(b),h=n(309),v=n.n(h),y=n(42),x=n(142),j=n.n(x),O=n(645),w=n(47),k=n(48);function C(){var e=Object(w.a)(["\n  .player-area {\n    background-color: #000000;\n    height: 463px;\n\n    .plyr {\n      height: 463px;\n    }\n  }\n\n  h2 {\n    margin-bottom: 0;\n  }\n\n  .MuiRating-root {\n    font-size: medium;\n    margin-left: 6px;\n  }\n\n  .progress-video {\n    font-size: 0.8rem;\n    line-height: 0.96rem;\n  }\n\n  .caption-size {\n    flex-basis: 400px;\n\n    span {\n      width: 160px;\n    }\n\n    input {\n      height: 2px;\n    }\n  }\n\n  .fb-like,\n  .fb-like > span,\n  .fb-like > span iframe {\n    max-width: 300px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  @media only screen and (max-width: 1200px) {\n    .player-area {\n      height: auto !important;\n\n      .plyr {\n        height: auto !important;\n      }\n    }\n  }\n\n  @media only screen and (max-width: 768px) {\n    .caption-size {\n      margin-top: 10px;\n      flex-basis: 100%;\n    }\n  }\n\n  @media only screen and (max-width: 575px) {\n    .player-area {\n      .container {\n        padding: 0;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var R=k.a.div(C()),N=n(23),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N.a.get("/movies?".concat(e))},T=function(e){return N.a.get("/movies/".concat(e))},z=function(e){return N.a.post("/movies",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})},S=function(e,t){return N.a.put("/movies/".concat(e),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})},L=n(22);var G=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useRef)(null),h=Object(a.useState)({}),x=Object(d.a)(h,2),w=x[0],k=x[1],C=Object(s.h)().pathname.split("/").pop(),N=new v.a,I=Object(a.useCallback)((function(e){return(e/1048576).toFixed(2)}),[]),z=Object(a.useCallback)((function(e){localStorage.setItem("caption-size",e),e+="px",document.documentElement.style.setProperty("--plyr-font-size-large",e),document.documentElement.style.setProperty("--plyr-font-size-xlarge",e)}),[]);return Object(a.useEffect)((function(){var n=localStorage.getItem("caption-size");return n&&(z(n),e.current.value=n),N.on("torrent",(function(e){new g.a(t.current,{controls:["play-large","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","airplay","fullscreen"],autoplay:!0,clickToPlay:!0,captions:{active:!0,language:"vi",update:!1}}),e.on("download",(function(t){c.current.innerHTML=I(e.downloaded),o.current.innerHTML=I(e.downloadSpeed),p.current.innerHTML=(100*e.progress).toFixed(2),b.current.innerHTML=e.numPeers}))})),function(){N.destroy()}}),[]),Object(a.useEffect)((function(){T(C).then((function(e){k(E.a.omit(e.data,["magnetURI","captions"])),l.current.src="".concat(L.c,"/").concat(C,"/").concat(e.data.captions.en),n.current.src="".concat(L.c,"/").concat(C,"/").concat(e.data.captions.vi),N.add(e.data.magnetURI,(function(e){e.files.find((function(e){return e.name.endsWith(".mp4")})).renderTo(t.current)}))})).catch((function(e){console.log(e.response)}))}),[C]),r.a.createElement(R,null,r.a.createElement(f.a,null,r.a.createElement("title",null,E.a.get(w,"title")?"".concat(w.title," - ").concat(L.b):L.b)),r.a.createElement("div",{className:"player-area"},r.a.createElement(m.a,null,r.a.createElement("video",{ref:t,crossOrigin:"anonymous",playsInline:!0},r.a.createElement("track",{kind:"captions",label:"Vietnamese",srcLang:"vi",ref:n}),r.a.createElement("track",{kind:"captions",label:"English",srcLang:"en",ref:l})))),r.a.createElement(m.a,null,r.a.createElement("div",{className:"d-flex flex-wrap mt-3"},r.a.createElement("div",{className:"progress-video flex-grow-1"},"Total downloaded: ",r.a.createElement("span",{ref:c})," MB",r.a.createElement("br",null),"Download speed: ",r.a.createElement("span",{ref:o})," MB/s",r.a.createElement("br",null),"Progress: ",r.a.createElement("span",{ref:p})," %",r.a.createElement("br",null),"Peer: ",r.a.createElement("span",{ref:b})),r.a.createElement("div",{className:"caption-size d-flex align-items-center"},r.a.createElement("span",{className:"text-secondary"},"C\u1ee1 ch\u1eef ph\u1ee5 \u0111\u1ec1"),r.a.createElement(y.a.Control,{type:"range",step:"1",min:"16",max:"50",defaultValue:"18",ref:e,onChange:function(e){return z(e.target.value)}}))),r.a.createElement("hr",null),r.a.createElement("h2",null,w.title),r.a.createElement("div",{className:"text-secondary"},w.originalTitle),r.a.createElement("div",null,"Rating: ",w.rating,r.a.createElement(O.a,{name:"half-rating",value:+(+w.rating/2).toFixed(1),precision:.5})),r.a.createElement("div",null,"Ng\xe0y ph\xe1t h\xe0nh: ",j()(w.releaseDate).format("D/M/Y")),r.a.createElement("div",null,"Th\u1ec3 lo\u1ea1i:",w.genres&&w.genres.map((function(e){return r.a.createElement(i.b,{to:"/search?genre=".concat(e.slug),key:e.slug}," ".concat(e.name,","))}))),r.a.createElement("hr",null),r.a.createElement(u.Like,{href:window.location.href,showFaces:!0,share:!0}),r.a.createElement("hr",null),r.a.createElement("p",null,w.description),r.a.createElement("hr",null),r.a.createElement(u.Comments,{width:"100%",href:window.location.href})))},D=n(634),M=n(315),F=n(635),q=n(632),_=n(646),A=n(639),U=n(642),B=n(68),P=n.n(B),V=n(633);function J(){var e=Object(w.a)(["\n  .MuiFormControl-root {\n    min-width: 100px;\n\n    .MuiInput-underline:before {\n      border-bottom: none;\n    }\n\n    .MuiInput-underline:hover:not(.Mui-disabled):before {\n      border-bottom: none;\n    }\n\n    .MuiSelect-select:focus {\n      background-color: transparent;\n    }\n  }\n\n  .row {\n    padding-left: 5px;\n    padding-right: 5px;\n\n    > div {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n\n  h2 {\n    font-size: medium;\n    margin-bottom: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .text-secondary {\n    font-size: 0.8rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  a {\n    display: block;\n    color: #212529;\n\n    .poster {\n      width: inherit;\n      height: 100%;\n      overflow: hidden;\n      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);\n\n      img {\n        width: 100%;\n      }\n    }\n\n    &:hover {\n      transform: scale(1.01);\n      text-decoration: none;\n    }\n  }\n"]);return J=function(){return e},e}var H=k.a.div(J());var Y=function(){var e=Object(s.g)(),t=Object(s.h)(),n=P.a.parse(t.search),l=Object(a.useState)([]),c=Object(d.a)(l,2),u=c[0],m=c[1],f=Object(o.c)((function(e){return e.genres})),p=Object(a.useCallback)((function(t){n.genre=t.target.value,e.push("/search?".concat(P.a.stringify(n)))}),[]),E=Object(a.useCallback)((function(t){n.sortBy=t.target.value,e.push("/search?".concat(P.a.stringify(n)))}),[]);return Object(a.useEffect)((function(){I(P.a.stringify(n)).then((function(e){m(e.data)}))}),[t.search]),r.a.createElement(H,null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(q.a,null,r.a.createElement(_.a,{shrink:!0},"Th\u1ec3 lo\u1ea1i"),r.a.createElement(A.a,{defaultValue:n.genre||"all",onChange:p},r.a.createElement(U.a,{value:"all"},"T\u1ea5t c\u1ea3"),f.map((function(e){return r.a.createElement(U.a,{key:e.slug,value:e.slug},e.name)})))),r.a.createElement(q.a,{className:"ml-4"},r.a.createElement(_.a,{shrink:!0},"X\u1ebfp theo"),r.a.createElement(A.a,{defaultValue:n.sortBy||"newest",onChange:E},r.a.createElement(U.a,{value:"newest"},"M\u1edbi \u0111\u0103ng"),r.a.createElement(U.a,{value:"popularity"},"Ph\u1ed5 bi\u1ebfn"),r.a.createElement(U.a,{value:"rating"},"X\u1ebfp h\u1ea1ng"),r.a.createElement(U.a,{value:"trending"},"Xu h\u01b0\u1edbng"),r.a.createElement(U.a,{value:"year"},"N\u0103m")))),r.a.createElement("hr",{style:{marginTop:".3rem"}}),0===u.length&&r.a.createElement(V.a,null),r.a.createElement(D.a,null,0!==u.length&&u.map((function(e){return r.a.createElement(M.a,{key:e.slug,className:"mb-3",lg:{span:2},md:{span:3},sm:{span:4},xs:{span:6}},r.a.createElement(i.b,{to:"/movies/".concat(e.slug)},r.a.createElement("div",{className:"poster rounded"},r.a.createElement(F.a,{src:"https://image.tmdb.org/t/p/w300".concat(e.poster),alt:e.title})),r.a.createElement("h2",{className:"mt-2"},e.title),r.a.createElement("div",{className:"text-secondary"},e.originalTitle)))}))))},W=n(643),X=n(644),K=n(640),Z=n(323),$=n.n(Z);function Q(){var e=Object(w.a)(["\n  background-color: #242526 !important;\n\n  .navbar-brand {\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n    }\n  }\n\n  .dropdown-menu {\n    left: -100px;\n  }\n\n  .input-group {\n    margin-left: 20px;\n    border-radius: 0.25rem;\n    background-color: #3a3b3c;\n    flex-wrap: nowrap;\n    width: 300px;\n    height: 40px;\n\n    &:focus-within {\n      // border-color: #80bdff;\n      // box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n    }\n\n    input {\n      background-color: transparent;\n      border-color: transparent;\n      width: 100%;\n      padding-left: 10px;\n      color: rgba(255, 255, 255, 0.4);\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.4);\n      }\n\n      &:focus {\n        outline: none;\n\n        &::placeholder {\n          color: #606770;\n        }\n      }\n    }\n\n    button {\n      background: transparent;\n      border: none;\n      padding-right: 10px;\n      padding-left: 6px;\n\n      &:focus {\n        outline: none;\n      }\n\n      .MuiSvgIcon-root {\n        font-size: 1.5rem !important;\n        color: rgba(255, 255, 255, 0.4);\n      }\n    }\n\n    @media only screen and (max-width: 991px) {\n      margin: 0.5rem 0;\n      width: 100%;\n    }\n  }\n"]);return Q=function(){return e},e}var ee=k.a.nav(Q());var te=function(){var e=Object(s.h)(),t=P.a.parse(e.search),n=Object(s.g)(),l=Object(a.useRef)(null),c=Object(o.c)((function(e){return e.auth.signedIn})),u=Object(a.useCallback)((function(e){e.preventDefault(),t.q=l.current.value,n.push("/search?".concat(P.a.stringify(t)))}),[]);return r.a.createElement(W.a,{as:ee,bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},L.b),r.a.createElement(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(W.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(X.a,{className:"mr-auto"},r.a.createElement("form",{className:"input-group",onSubmit:u},r.a.createElement("input",{type:"text",placeholder:"T\xecm t\xean phim",ref:l,defaultValue:t.q||""}),r.a.createElement("button",{type:"submit",className:"d-flex align-self-center"},r.a.createElement($.a,null)))),c?r.a.createElement(X.a,null,r.a.createElement(X.a.Link,{as:i.b,role:"button",to:"/db/upload"},"Upload"),r.a.createElement(K.a,{title:"B\u1ea3o"},r.a.createElement(K.a.Item,{as:i.b,to:"/db/casts"},"Cast"),r.a.createElement(K.a.Item,{as:i.b,to:"/db/directors"},"Director"),r.a.createElement(K.a.Item,{as:i.b,to:"/db/genres"},"Genre"),r.a.createElement(K.a.Item,{as:i.b,to:"/db/feedbacks"},"Feedback"),r.a.createElement(K.a.Item,{as:i.b,to:"/db/movies"},"Movie"),r.a.createElement(K.a.Item,{as:i.b,to:"/sign-out"},"Sign out"))):r.a.createElement(X.a,null,r.a.createElement(X.a.Link,{as:i.b,to:"/sign-in"},"Sign in"))))};function ne(){var e=Object(w.a)(["\n  background-color: #1a1a1a;\n  color: #a0a3a7;\n  padding: 30px 40px;\n  margin-top: 20px;\n\n  a {\n    font-size: 1.4rem;\n    color: #f36c5d;\n    transition: 0.2s;\n\n    &:hover {\n      color: #f26b38;\n      text-decoration: none;\n    }\n  }\n"]);return ne=function(){return e},e}var ae=k.a.footer(ne());var re=Object(s.j)((function(e){var t=e.location;return r.a.createElement(r.a.Fragment,null,["/sign-in"].includes(t.pathname)?null:r.a.createElement(ae,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},L.b))),r.a.createElement("div",null,"Copyright \xa9 2020 - bphamict")))})),le=n(51),ce=n(188);var oe=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useRef)(null),l=Object(a.useRef)(null),c=Object(a.useState)(),o=Object(d.a)(c,2),u=o[0],i=o[1],s=function(a){a.preventDefault(),l.current.execute();var r,c,o=e.current.value,i=t.current.value,s=n.current.value;(r={email:o,type:i,content:s},c=u,N.a.post("/feedbacks",{data:r,headers:{"g-recaptcha-response":c}})).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))};return Object(a.useEffect)((function(){Object(ce.loadReCaptcha)(L.e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Ph\u1ea3n h\u1ed3i"),r.a.createElement("hr",{className:{marginTop:0}}),r.a.createElement(D.a,null,r.a.createElement(M.a,{md:6},r.a.createElement(y.a,{onSubmit:function(e){return s(e)}},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"\u0110\u1ecba ch\u1ec9 email"),r.a.createElement(y.a.Control,{type:"email",placeholder:"Nh\u1eadp email",ref:e})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Lo\u1ea1i ph\u1ea3n h\u1ed3i"),r.a.createElement(y.a.Control,{as:"select",ref:t},r.a.createElement("option",{value:"bug-report"},"B\xe1o c\xe1o l\u1ed7i"),r.a.createElement("option",{value:"question"},"C\xe2u h\u1ecfi"),r.a.createElement("option",{value:"suggestion"},"G\u1ee3i \xfd t\xednh n\u0103ng"),r.a.createElement("option",{value:"other"},"Kh\xe1c"))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"N\u1ed9i dung"),r.a.createElement(y.a.Control,{as:"textarea",placeholder:"Nh\u1eadp n\u1ed9i dung",ref:n})),r.a.createElement(ce.ReCaptcha,{ref:l,sitekey:L.e,action:"submit",verifyCallback:function(e){return i(e)}}),r.a.createElement(le.a,{variant:"primary",type:"submit"},"G\u1eedi ph\u1ea3n h\u1ed3i")))))},ue=n(53),ie=n.n(ue),se=n(106),me=n(641);function de(){var e=Object(w.a)(["\n  input[type='file'] {\n    color: transparent;\n  }\n\n  .toast {\n    background-color: #ffffff;\n    position: fixed;\n    top: 10%;\n    z-index: 1;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n  }\n"]);return de=function(){return e},e}var fe=k.a.form(de());var pe=function(e){var t=e.type,n=(e.match,Object(s.i)()),l=Object(a.useRef)(null),c=Object(a.useRef)(null),u=Object(a.useRef)(null),i=Object(a.useRef)(null),m=Object(a.useRef)(null),f=Object(a.useRef)(null),p=Object(a.useRef)(null),b=Object(a.useRef)(null),g=Object(a.useRef)(null),h=Object(a.useRef)(null),v=Object(a.useRef)(null),x=Object(a.useRef)(null),j=Object(a.useRef)(null),O=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),C=Object(a.useRef)(null),R=Object(a.useState)(!1),I=Object(d.a)(R,2),G=I[0],F=I[1],q=Object(a.useState)(""),_=Object(d.a)(q,2),A=_[0],U=_[1],B=Object(o.c)((function(e){return e.genres})),P=Object(a.useCallback)((function(){var e,t;(e=f.current.value,t=h.current.value,new Promise(function(){var n=Object(se.a)(ie.a.mark((function n(a,r){var l,c,o,u;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(L.f,"&language=vi-VN&query=").concat(e,"&page=1&include_adult=false&year=").concat(t));case 3:return l=n.sent,n.next=6,N.a.get("https://api.themoviedb.org/3/movie/".concat(l.data.results[0].id,"?api_key=").concat(L.f,"&language=vi-VN"));case 6:return c=n.sent,n.next=9,N.a.get("https://api.themoviedb.org/3/movie/".concat(l.data.results[0].id,"/videos?api_key=").concat(L.f));case 9:if(o=n.sent,c.data.trailer=o.data.results[0].key,""!==c.data.overview){n.next=16;break}return n.next=14,N.a.get("https://api.themoviedb.org/3/movie/".concat(l.data.results[0].id,"?api_key=").concat(L.f,"&language=en-US"));case 14:u=n.sent,c.data.overview=u.data.overview;case 16:a(c),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),r(n.t0);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e,t){return n.apply(this,arguments)}}())).then((function(e){u.current.value=e.data.trailer,i.current.value=e.data.poster_path,m.current.value=e.data.title,f.current.value=e.data.original_title,p.current.value=e.data.overview,g.current.value=e.data.vote_average,h.current.value=e.data.release_date.substring(0,4),v.current.value=e.data.release_date,O.current.value="",e.data.genres.forEach((function(e){O.current.value+="".concat(e.name,", ")}))})).catch((function(e){console.log(e.response)}))}),[]),V=Object(a.useCallback)(function(){var e=Object(se.a)(ie.a.mark((function e(n){var a,r,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a=O.current.value.split(", ").slice(0,-1),r=[],a.forEach((function(e){r.push(B.find((function(t){return t.name===e}))._id)})),o={magnetURI:c.current.value,poster:i.current.value,trailer:u.current.value,title:m.current.value,originalTitle:f.current.value,description:p.current.value,duration:b.current.value,year:h.current.value,releaseDate:v.current.value,rating:g.current.value,genres:r,captions:{vi:k.current.value,en:C.current.value}},"Upload"===t&&z(o).then((function(e){201===e.status&&(F(!0),U("Uploaded!"))})).catch((function(e){F(!0),U(e.response.data.message)})),"Edit"===t&&S(l.current,o).then((function(e){200===e.status&&(F(!0),U("Edited!"))})).catch((function(e){F(!0),U(e.response.data.message)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,B]);return Object(a.useEffect)((function(){E.a.get(n,"slug")&&T(n.slug).then((function(e){l.current=e.data._id,c.current.value=e.data.magnetURI,i.current.value=e.data.poster,u.current.value=e.data.trailer,m.current.value=e.data.title,f.current.value=e.data.originalTitle,p.current.value=e.data.description,b.current.value=e.data.duration,h.current.value=e.data.year,v.current.value=e.data.releaseDate,g.current.value=e.data.rating,O.current.value="",e.data.genres.forEach((function(e){O.current.value+="".concat(e.name,", ")})),k.current.value=e.data.captions.vi,C.current.value=e.data.captions.en})).catch((function(e){console.log(e.response)}))}),[n]),r.a.createElement(y.a,{onSubmit:V,as:fe},r.a.createElement(me.a,{show:G,onClose:function(){return F(!1)},autohide:!0,delay:3e3},r.a.createElement(me.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Result")),r.a.createElement(me.a.Body,null,A)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("h2",{className:"flex-grow-1"},t," movie"),r.a.createElement("div",null,r.a.createElement(le.a,{type:"reset",variant:"danger",size:"sm"},"Clear All"),r.a.createElement(le.a,{variant:"info",size:"sm",className:"ml-2",onClick:function(){return P()}},"Crawl"),r.a.createElement(le.a,{type:"submit",variant:"primary",size:"sm",className:"ml-2"},"Done"))),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(D.a,null,r.a.createElement(M.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"MagnetURI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:c,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Trailer"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:u,required:!0})),r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Poster"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:i,required:!0}))),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Title"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:m,required:!0})),r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Original title (*)"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:f,required:!0}))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Description"),r.a.createElement(y.a.Control,{size:"sm",as:"textarea",rows:3,ref:p,required:!0})),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Duration"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:b,required:!0})),r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Rating"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:g,required:!0})),r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Year"),r.a.createElement(y.a.Control,{size:"sm",type:"number",ref:h,required:!0})),r.a.createElement(y.a.Group,{as:M.a},r.a.createElement(y.a.Label,null,"Release date"),r.a.createElement(y.a.Control,{size:"sm",type:"date",ref:v,required:!0})))),r.a.createElement(M.a,{md:6},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Director"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:x})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Casts"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:j})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Genres"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:O,disabled:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Tags"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:w})),r.a.createElement(y.a.Label,null,"Captions"),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:M.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"VI"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:k,defaultValue:"vi.vtt",required:!0})),r.a.createElement(y.a.Group,{as:M.a,md:4,xs:6},r.a.createElement(y.a.Label,null,"EN"),r.a.createElement(y.a.Control,{size:"sm",type:"text",ref:C,defaultValue:"en.vtt",required:!0}))))))};var Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Director"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter director's name"}),r.a.createElement(le.a,{type:"submit"},"Add")))};var be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Cast"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(le.a,{type:"submit"},"Add")))};var ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Genre"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter genre's name"}),r.a.createElement(le.a,{type:"submit"},"Add")))};var he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Tag"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(y.a,{inline:!0},r.a.createElement(y.a.Control,{type:"text",className:" mr-sm-2",placeholder:"Enter cast's name"}),r.a.createElement(le.a,{type:"submit"},"Add")))},ve=n(327);var ye=function(){var e=[{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"},{email:"test@test.test",type:"bug-report",content:"dadfnsdffa nerjnselkrf"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Feedback"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(ve.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Content"))),r.a.createElement("tbody",null,e&&e.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.content))})))))},xe=n(636),je=n(637),Oe=n(638);var we=function(){var e=Object(s.g)(),t=Object(a.useState)({}),n=Object(d.a)(t,2),l=n[0],c=n[1],o=Object(a.useCallback)((function(e){window.open("/#/movies/".concat(e))}),[]),u=Object(a.useCallback)((function(e){(function(e){return N.a.delete("/movies/".concat(e))})(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response)}))}),[]);return Object(a.useEffect)((function(){I().then((function(e){c(e.data)})).catch((function(e){console.log(e.response)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Movie"),r.a.createElement("hr",{style:{marginTop:0}}),r.a.createElement(ve.a,{hover:!0},r.a.createElement("thead",{className:"bg-dark text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Original title"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Release date"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,l.length>0&&l.map((function(t,n){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,n+1),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.originalTitle),r.a.createElement("td",null,t.rating),r.a.createElement("td",null,j()(t.releaseDate).format("DD/MM/YY")),r.a.createElement("td",{style:{textAlign:"right",padding:".5rem"}},r.a.createElement(le.a,{size:"sm",variant:"danger",onClick:function(){return u(t._id)}},r.a.createElement(xe.a,null)),r.a.createElement(le.a,{size:"sm",className:"ml-2",onClick:function(){return e.push("/db/movies/".concat(t.slug))}},r.a.createElement(je.a,null)),r.a.createElement(le.a,{size:"sm",className:"ml-2",variant:"success",onClick:function(){return o(t.slug)}},r.a.createElement(Oe.a,null))))})))))},ke=n(108);var Ce=function(e){var t=e.title,n=Object(ke.a)(e,["title"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,t?"".concat(t," - ").concat(L.b):L.b)),r.a.createElement(s.b,n))};var Re=function(e){var t=e.component,n=Object(ke.a)(e,["component"]),a=Object(o.c)((function(e){return e.auth.signedIn}));return r.a.createElement(Ce,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var Ne=function(e){var t=e.component,n=e.restricted,a=void 0!==n&&n,l=Object(ke.a)(e,["component","restricted"]),c=Object(o.c)((function(e){return e.auth.signedIn}));return r.a.createElement(Ce,Object.assign({},l,{render:function(e){return c&&a?r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,e)}}))},Ie=n(328);var Te=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(s.g)(),l=Object(o.b)();return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(M.a,{lg:4,md:6},r.a.createElement(y.a,{onSubmit:function(a){a.preventDefault();var r=e.current.value,c=t.current.value;Object(Ie.a)({identifier:r,password:c}).then((function(e){var t,a;l((t=e.data.accessToken,a=e.data.refreshToken,localStorage.setItem("jwt",t),localStorage.setItem("reJwt",a),{type:"SIGN_IN"})),n.push("/")})).catch((function(e){console.log(e.response)}))}},r.a.createElement("h2",{className:"text-center py-3"},"Administrator"),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Username or email"),r.a.createElement(y.a.Control,{type:"text",ref:e,required:!0})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Password"),r.a.createElement(y.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(le.a,{variant:"primary",type:"submit",block:!0},"Signin"))))};var ze=function(){var e=Object(s.g)(),t=Object(o.b)();return Object(a.useEffect)((function(){t((localStorage.removeItem("jwt"),localStorage.removeItem("reJwt"),{type:"SIGN_OUT"})),e.push("/")}),[e,t]),r.a.createElement(r.a.Fragment,null)};var Se=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(se.a)(ie.a.mark((function e(t){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/genres");case 2:n=e.sent,t({type:"ADD",genres:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(i.a,null,r.a.createElement(te,null),r.a.createElement(s.d,null,r.a.createElement(Ne,{path:"/movies/:slug",component:function(){return r.a.createElement(G,null)},exact:!0}),r.a.createElement(m.a,{className:"mt-4"},r.a.createElement(Ne,{title:"Feedback",path:"/feedback",component:function(){return r.a.createElement(oe,null)},exact:!0}),r.a.createElement(Re,{title:"Movies",path:"/db/movies",component:function(){return r.a.createElement(we,null)},exact:!0}),r.a.createElement(Re,{title:"Upload",path:"/db/upload",component:function(){return r.a.createElement(pe,{type:"Upload"})},exact:!0}),r.a.createElement(Re,{title:"Edit",path:"/db/movies/:slug",component:function(){return r.a.createElement(pe,{type:"Edit"})},exact:!0}),r.a.createElement(Re,{title:"Directors",path:"/db/directors",component:function(){return r.a.createElement(Ee,null)},exact:!0}),r.a.createElement(Re,{title:"Casts",path:"/db/casts",component:function(){return r.a.createElement(be,null)},exact:!0}),r.a.createElement(Re,{title:"Genres",path:"/db/genres",component:function(){return r.a.createElement(ge,null)},exact:!0}),r.a.createElement(Re,{title:"Tags",path:"/db/tags",component:function(){return r.a.createElement(he,null)},exact:!0}),r.a.createElement(Re,{title:"Feedbacks",path:"/db/feedbacks",component:function(){return r.a.createElement(ye,null)},exact:!0}),r.a.createElement(Ne,{title:"Sign in",path:"/sign-in",restricted:!0,component:function(){return r.a.createElement(Te,null)},exact:!0}),r.a.createElement(Re,{title:"Sign out",path:"/sign-out",component:function(){return r.a.createElement(ze,null)},exact:!0}),r.a.createElement(Ne,{path:"/search",component:function(){return r.a.createElement(Y,{title:""})},exact:!0}),r.a.createElement(Ne,{path:"/",exact:!0,component:function(){return r.a.createElement(Y,{title:""})}}))),r.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=n(61),Ge=n(329),De=n(330),Me=n(126),Fe={signedIn:!!localStorage.getItem("jwt")},qe=[],_e=Object(Le.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Me.a)(Object(Me.a)({},e),{},{signedIn:!0});case"SIGN_OUT":return Object(Me.a)(Object(Me.a)({},e),{},{signedIn:!1});default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return t.genres;default:return e}}}),Ae=Object(Le.createStore)(_e,Object(Ge.composeWithDevTools)(Object(Le.applyMiddleware)(De.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Ae},r.a.createElement(u.FacebookProvider,{appId:L.d},r.a.createElement(Se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[341,1,2]]]);